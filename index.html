<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Pepper ChatBot API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;msbot&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/white_logo.png" alt="White logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="msbot">msbot</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="pepper-chatbot-api">Pepper ChatBot API</h1>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
The Microsoft Bot Framework (MS-Bot) facilitates the creation of 
powerful chatbots to enhance your application's capabilities. Its open 
source Bot Builder SDKs allow users to build simple to sophisticated 
dialogs. Cognitive Services enable your bot to interpret and interact 
in more human ways. Ms-Bot is the first, 3rd-party ChatBot integration 
that SoftBank Robotics supports.

To see a working example, download the emulator here:
    https://docs.microsoft.com/en-us/bot-framework/debug-bots-emulator
and use the following sample PuppyBot information to set up your emulator:

MS Bot Endpoint:
   https://pepper-msbot.azurewebsites.net/api/messages?code=e3fa60oaOlabQUptT63DYSWPxrdG0pS9zFrADLT1xX9iGx6FxAG7pw==

PuppyBot App Id:
   808ad83e-3876-40fd-b0e8-a616e014fc6f

PuppyBot Password:
   9nHp8QNcwQJcNDHHjBCnoj7

PuppyBot LUIS Endpoint:
   https://westus.api.cognitive.microsoft.com/luis/v2.0/apps/4e4b1c46-5d6d-4035-9905-eef921df734f?subscription-key=37e463e0ae22427abc606d076dafbdd3&amp;timezoneOffset=-480&amp;verbose=true&amp;spellCheck=true&amp;q=
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span></code></pre></div>
<p>Welcome to the Pepper ChatBot API! You can use this API to access a 3rd party chatbot&rsquo;s endpoints in order to integrate an existing chatbot with Pepper. </p>

<p>You can view general integration instructions in this central, light blue section. In the dark area to the right, you can see chatbot-specific code examples corresponding visually in line with each general section. Switch between different chatbot-specific code examples with the tabs in the top right.</p>

<aside class="notice">We currently only support integrations with the Microsoft Bot Framework (msbot), but this list is quickly growing, so check back soon or else get in touch with us directly if your chatbot platform does not appear on this list!</aside>

<h1 id="authentication-setup">Authentication &amp; Setup</h1>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
SETUP INSTRUCTIONS:
For MS-Bots, setup consists of providing us with your bot token. Provide 
your bot token to the SoftBank Robotics Sales Engineer assisting you with 
setup. You can find your 'botToken' by following these steps:

Step 1: Open your bot in Azure portal.
Step 2: Select the CHANNELS tab.
Step 3: Add DirectLine to your bot.
Step 4: Click on Edit.
Step 5: Copy one of the Secret Keys that was generated.
Step 6: Give the copied value (botToken) to the SBR Sales Engineer.
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span></code></pre></div>
<p>ChatBots use RESTful APIs with APP IDs, PASSWORDs, and/or ACCESS TOKENS to authenticate in order to retrieve chatbot data. Requests are made to the ChatBot from a single endpoint:</p>

<p><code>https://{YOUR-CHATBOT&#39;S-ENDPOINT}</code>
<br><br><br>
SEE CHATBOT-SPECIFIC SETUP INSTRUCTIONS TO THE RIGHT → </p>

<aside class="notice">Authorization and setup varies between chatbots, but typically requires your App ID and Password when configuring. We currently must work together with you or your developers to set this up, but we will soon provide a web interface for self service.</aside>

<h1 id="pepper-data-model">Pepper Data Model</h1>

<blockquote>
<p>Pepper Data Model - Pepper API returns the following data model, with its variations, in reply to an utterance or wav file sent through either POST or Websocket:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="s2">"utteranceId"</span><span class="p">:</span><span class="w"> </span><span class="err">GUID</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="err">GUID</span><span class="p">,</span><span class="w">
    </span><span class="s2">"botConversationId"</span><span class="p">:</span><span class="w"> </span><span class="err">GUID</span><span class="p">,</span><span class="w">
    </span><span class="s2">"speak"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">
    </span><span class="s2">"show"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">
        </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">
            </span><span class="s2">"speak"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contentURL"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="w"> </span><span class="err">URL</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To the right, you can see the generic data model returned by the Pepper API. Below you can find definitions for the various datums returned in the response. In the sections that follow, you can see precisely how Pepper will display various types of mixed media responses.</p>

<h3 id="definitions">Definitions:</h3>

<p><code> utteranceId</code></p>

<p>A GUID generated by Pepper in order to track the sent and returned values for an utterance.</p>

<p><code> sessionId </code></p>

<p>A GUID generated by Pepper in order to track the chat session, has a mapping to a botCoversationId if needed.</p>

<p><code> botConversationId </code></p>

<p>A GUID generated by the bot in the cloud. Satisfi let’s us set this, so it’s a one to one mapping in some cases.</p>

<p><code> speak </code></p>

<p>A string Pepper is meant to speak upon RETURN of the data model from the WebSocket</p>

<p><code> show </code></p>

<p>An object detailing out what Pepper is supposed to show, along with actionable entities</p>

<p><code> show.text </code></p>

<p>A string that Pepper is supposed to show as a title for the content to be displayed</p>

<p><code> show.content </code></p>

<p>A object that contains an array of objects meant to cover all scenarios related to chatbot interfaces.</p>

<p><code> show.content.text </code></p>

<p>A nullable string to be shown for the content object</p>

<p><code> show.content.speak </code></p>

<p>A nullable string for Pepper to speak upon selection of the content object</p>

<p><code> show.content.contentURL </code></p>

<p>The nullable url for the content to be displayed of the content object</p>

<p><code> show.content.value </code></p>

<p>A nullable string that contains the actionable value to be returned to the chat bot upon content selection.</p>

<h2 id="text-only-response">Text Only Response</h2>

<blockquote>
<p>Pepper Data Model - Text Only Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">msgType</span><span class="p">:</span><span class="w"> </span><span class="s2">"chatbotresponse"</span><span class="p">,</span><span class="w">
    </span><span class="err">data</span><span class="p">:</span><span class="w"> </span><span class="s2">"Answer"</span><span class="p">,</span><span class="w">
    </span><span class="err">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
    </span><span class="err">conversationID</span><span class="p">:</span><span class="w"> </span><span class="s2">"testgguid"</span><span class="p">,</span><span class="w">
    </span><span class="err">uniqueID</span><span class="p">:</span><span class="w"> </span><span class="s2">"b958c65a-3c9f-4f38-919d-0a4c70ae3e0d"</span><span class="p">,</span><span class="w">
    </span><span class="err">utteranceID</span><span class="p">:</span><span class="w"> </span><span class="s2">"testutteranceID"</span><span class="p">,</span><span class="w">
    </span><span class="err">sessionID</span><span class="p">:</span><span class="w"> </span><span class="s2">"testgguid"</span><span class="p">,</span><span class="w">
    </span><span class="err">response</span><span class="p">:</span><span class="w"> </span><span class="s2">"Answer"</span><span class="p">,</span><span class="w">
    </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"Answer"</span><span class="p">,</span><span class="w">
    </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Answer"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Text_Only_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-text-only-response">Example: Text Only Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Text Only response:
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Duh, German Shepard Puppies tell the best jokes!"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T11:11:52-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-bot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acceptingInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9hecj33gj8mckk1m3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48mj8inig8dmc9i39"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T18:11:52.982Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mb6c0bcdl2eclij9i"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
text -&gt; speak
text -&gt; show.text

WHERE
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{ <br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;, <br>
  &ldquo;data&rdquo;: &ldquo;Duh, German Shepard Puppies tell the best jokes!&rdquo;, <br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;, <br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;, <br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Duh, German Shepard Puppies tell the best jokes!&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Duh, German Shepard Puppies tell the best jokes!&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;text&rdquo;: &ldquo;Duh, German Shepard Puppies tell the best jokes!&rdquo;<br>
  }<br>
}<br></p>

<h2 id="video-response">Video Response</h2>

<blockquote>
<p>Pepper Data Model - Video Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"Look at this cool video"</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.mp4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Video_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-video-only-response">Example: Video Only Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Video Only response:
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pepperstoragedev.blob.core.windows.net/pepperstories/b68b2247-f74a-4f6b-b3ad-3e7e66c1e600.mp4?decache=QLT1MXCSF1A9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"video/mp4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy video"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here is a puppy video"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T11:09:03-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-bot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acceptingInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0igi03ln2f4fem94c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ek9im8g5df0e305bf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T18:09:03.318Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mb6c0bcdl2eclij9i"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
attachments ~&gt; show.content
attachments.contentUrl-&gt; show.content. contentURL
attachments.contentType-&gt; show.content.contentType
text -&gt; speak
text -&gt; show.text

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{ <br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Here is a puppy video&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Here is a puppy video&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Here is a puppy video&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;contentURL&rdquo;: &ldquo;https://pepperstoragedev.blob.core.windows.net/pepperstories/b68b2247-f74a-4f6b-b3ad-3e7e66c1e600.mp4?decache=QLT1MXCSF1A9&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;video/mp4&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Here is a puppy video&rdquo;<br>
  }<br>
}<br></p>

<h2 id="picture-and-text-response-non-actionable">Picture and Text Response (Non-actionable)</h2>

<blockquote>
<p>Pepper Data Model - Picture and Text Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.png"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.jpeg"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.gif"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Picture_And_Text_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-picture-text-response">Example: Picture &amp; Text Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Image Attachments response:
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.greathillpartners.com/wp-content/uploads/Golden-Puppy.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://i.ytimg.com/vi/VRiWE1l8KqI/maxresdefault.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://24.media.tumblr.com/53e3171e750c6c1028f8200ad73c8a53/tumblr_mkozt0qp3B1qiwf8po1_500.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here are some puppies"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T11:01:51-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-bot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ignoringInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3j6714mfbl49hf1bac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"688k3bd50e8ifk364c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T18:01:51.235Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efj6c25bj3e43b0c9"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
attachments ~&gt; show.content
attachments.contentUrl-&gt; show.content.contentURL
attachments.contentType-&gt; show.content.contentType
text -&gt; speak
text -&gt; show.text

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{<br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Puppy pic 1&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Puppy pic 1&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Here are some puppies&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://24.media.tumblr.com/53e3171e750c6c1028f8200ad73c8a53/tumblr_mkozt0qp3B1qiwf8po1_500.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }, {<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://img-aws.ehowcdn.com/600x600p/photos.demandstudios.com/getty/article/154/20/87788187.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }, {<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://images2.fanpop.com/image/photos/13300000/Beautiful-Rottweiler-rottweiler-13378960-500-375.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Here are some puppies&rdquo;<br>
  }<br>
}<br></p>

<h2 id="picture-only-response-non-actionable">Picture Only Response (Non-actionable)</h2>

<blockquote>
<p>Pepper Data Model - Picture Only Response (Non-actionable):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"Look at this cool pic"</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Look at this cool pic"</span><span class="p">,</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Picture_Only_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-picture-only-response">Example: Picture Only Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Image Attachments response:
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.greathillpartners.com/wp-content/uploads/Golden-Puppy.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://i.ytimg.com/vi/VRiWE1l8KqI/maxresdefault.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://24.media.tumblr.com/53e3171e750c6c1028f8200ad73c8a53/tumblr_mkozt0qp3B1qiwf8po1_500.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy pic 1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here are some puppies"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T11:01:51-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-bot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ignoringInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3j6714mfbl49hf1bac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"688k3bd50e8ifk364c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T18:01:51.235Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efj6c25bj3e43b0c9"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
attachments ~&gt; show.content
attachments.contentUrl-&gt; show.content.contentURL
attachments.contentType-&gt; show.content.contentType
text -&gt; speak
text -&gt; show.text

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{<br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Puppy pic 1&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Puppy pic 1&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Here are some puppies&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://24.media.tumblr.com/53e3171e750c6c1028f8200ad73c8a53/tumblr_mkozt0qp3B1qiwf8po1_500.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }, {<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://img-aws.ehowcdn.com/600x600p/photos.demandstudios.com/getty/article/154/20/87788187.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }, {<br>
      &ldquo;contentURL&rdquo;: &ldquo;http://images2.fanpop.com/image/photos/13300000/Beautiful-Rottweiler-rottweiler-13378960-500-375.jpg&rdquo;,<br>
      &ldquo;contentType&rdquo;: &ldquo;image/jpg&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Here are some puppies&rdquo;<br>
  }<br>
}<br></p>

<h2 id="picture-and-text-response-actionable">Picture and Text Response (Actionable)</h2>

<blockquote>
<p>Pepper Data Model - Picture and Text Response (Actionable):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.png"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.jpeg"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caption"</span><span class="p">,</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.gif"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action3"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Picture_And_Text_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-picture-text-actionable-response">Example: Picture &amp; Text (Actionable) Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Hero Card with Images and Choices
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachmentLayout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"carousel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.microsoft.card.thumbnail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boxer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A breed of utility dog."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The American boxer is a stocky, well built, strong-looking dog, with a large head and a muscular build. Its coat is short and generally smooth. The breed is a light to moderate shedder."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.pexels.com/photos/158682/snow-dog-de-bordeaux-158682.jpeg"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boxer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boxer"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.microsoft.card.thumbnail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Akita"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Continental Toy Spaniel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Akita is a very intelligent and self-assured dog that has a very easy time learning new tricks. This dog can be sociable with children and strangers but is generally reserved around new people. "</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://upload.wikimedia.org/wikipedia/commons/5/56/Papillon_Ears.jpg"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"akita"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Akita"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T10:45:24-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n5dm5eb6ldekh6a3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acceptingInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dn58c2bfjd1089dkac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nbdk7b69eb0j9j69"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T17:45:24.902Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ja3le587mmjbc4c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
attachments ~&gt; show.content
attachments.title -&gt; show.content.text
attachments.subtitle -&gt; **ABANDONED**
attachments.text -&gt; show.content.speak
attachments.images.url -&gt; show.content.contentURL
attachments.buttons.value -&gt; show.content.value

ADDED
speak: 'Tap or Say one of the following'
show.content.text: 'Tap or Say one of the following'

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{<br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;text&rdquo;: &ldquo;Boxer&rdquo;,<br>
      &ldquo;speak&rdquo;: &ldquo;The American boxer is a stocky, well built, strong-looking dog, with a large head and a muscular build. Its coat is short and generally smooth. The breed is a light to moderate shedder.&rdquo;,<br>
      &ldquo;contentURL&rdquo;: &ldquo;https://static.pexels.com/photos/158682/snow-dog-de-bordeaux-158682.jpeg&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;boxer&rdquo;<br>
    }, {<br>
      &ldquo;text&rdquo;: &ldquo;Akita&rdquo;,<br>
      &ldquo;speak&rdquo;: &ldquo;The Akita is a very intelligent and self-assured dog that has a very easy time learning new tricks. This dog can be sociable with children and strangers but is generally reserved around new people. &rdquo;,<br>
      &ldquo;contentURL&rdquo;: &ldquo;https://upload.wikimedia.org/wikipedia/commons/5/56/Papillon_Ears.jpg&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;akita&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Tap or Say one of the following&rdquo;<br>
  }<br>
}<br></p>

<h2 id="picture-only-response-actionable">Picture Only Response (Actionable)</h2>

<blockquote>
<p>Pepper Data Model - Picture Only Response (Actionable):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.png"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.jpeg"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">contentURL</span><span class="p">:</span><span class="w"> </span><span class="s2">"https.content.gif"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"action3"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Picture_And_Text_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-picture-only-actionable-response">Example: Picture Only (Actionable) Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Hero Card with Images and Choices
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachmentLayout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"carousel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.microsoft.card.thumbnail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boxer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A breed of utility dog."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The American boxer is a stocky, well built, strong-looking dog, with a large head and a muscular build. Its coat is short and generally smooth. The breed is a light to moderate shedder."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.pexels.com/photos/158682/snow-dog-de-bordeaux-158682.jpeg"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boxer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boxer"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.microsoft.card.thumbnail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Akita"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Continental Toy Spaniel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Akita is a very intelligent and self-assured dog that has a very easy time learning new tricks. This dog can be sociable with children and strangers but is generally reserved around new people. "</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://upload.wikimedia.org/wikipedia/commons/5/56/Papillon_Ears.jpg"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"akita"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Akita"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T10:45:24-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n5dm5eb6ldekh6a3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acceptingInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dn58c2bfjd1089dkac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nbdk7b69eb0j9j69"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T17:45:24.902Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ja3le587mmjbc4c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot -&gt; Pepper Data Model):
attachments ~&gt; show.content
attachments.title -&gt; show.content.text
attachments.subtitle -&gt; **ABANDONED**
attachments.text -&gt; show.content.speak
attachments.images.url -&gt; show.content.contentURL
attachments.buttons.value -&gt; show.content.value

ADDED
speak: 'Tap or Say one of the following'
show.content.text: 'Tap or Say one of the following'

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{<br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Tap or Say one of the following&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;text&rdquo;: &ldquo;Boxer&rdquo;,<br>
      &ldquo;speak&rdquo;: &ldquo;The American boxer is a stocky, well built, strong-looking dog, with a large head and a muscular build. Its coat is short and generally smooth. The breed is a light to moderate shedder.&rdquo;,<br>
      &ldquo;contentURL&rdquo;: &ldquo;https://static.pexels.com/photos/158682/snow-dog-de-bordeaux-158682.jpeg&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;boxer&rdquo;<br>
    }, {<br>
      &ldquo;text&rdquo;: &ldquo;Akita&rdquo;,<br>
      &ldquo;speak&rdquo;: &ldquo;The Akita is a very intelligent and self-assured dog that has a very easy time learning new tricks. This dog can be sociable with children and strangers but is generally reserved around new people. &rdquo;,<br>
      &ldquo;contentURL&rdquo;: &ldquo;https://upload.wikimedia.org/wikipedia/commons/5/56/Papillon_Ears.jpg&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;akita&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Tap or Say one of the following&rdquo;<br>
  }<br>
}<br></p>

<h2 id="text-bubbles-response-actionable">Text Bubbles Response (Actionable)</h2>

<blockquote>
<p>Pepper Data Model - Text Bubbles Response (Actionable):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">utteranceId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234abcde"</span><span class="p">,</span><span class="w">
  </span><span class="err">sessionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcde1234"</span><span class="p">,</span><span class="w">
        </span><span class="err">botConversationId</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4e5"</span><span class="p">,</span><span class="w">
  </span><span class="err">speak</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
  </span><span class="err">show</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"The weather in San Francisco today is a high of 66 degrees and a low of 48."</span><span class="p">,</span><span class="w">
    </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"YES"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">text</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="p">,</span><span class="w">
        </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><img src = "images/Pepper_Data_Model-Text_Bubbles_Response.png"/></p>

<blockquote>
<p>CHATBOT-SPECIFIC EXAMPLE:</p>
</blockquote>

<h3 id="example-text-bubbles-actionable-response">Example: Text Bubbles (Actionable) Response</h3>

<p>(corresponds to ChatBot specific example →)</p>

<p>Pepper ChatBot translation:</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""
MS-Bot: Hero Card with Choices
"""""""""""""""""""""""""""""""""""""""""</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.microsoft.card.hero"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Do you want to know about Puppies?"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes please"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes please"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imBack"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No thanks"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No thanks"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T10:45:19-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n5dm5eb6ldekh6a3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bot"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-user"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inputHint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acceptingInput"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"replyToId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i0gn412d30ag423i"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"j2j8245c6b9m12n3i"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"channelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emulator"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-02T17:45:19.923Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ja3le587mmjbc4c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="s2">"""""""""""""MAPPING""""""""""""""""""""
Mapping (MS-Bot Hero Card w/ Choices -&gt; Pepper Data Model):
attachments.content.buttons ~&gt; show.content
attachments.content.buttons.title -&gt; show.content.text
attachments.content.buttons.value -&gt; show.content.value
attachments.content.title -&gt; show.text
attachments.content.title -&gt; speak

WHERE
~&gt; = loosely mapped
-&gt; = strictly mapped
""""""""""""""""""""""""""""""""""""""""
</span></code></pre></div>
<p>{ <br>
  &ldquo;msgType&rdquo;: &ldquo;chatbotresponse&rdquo;,<br>
  &ldquo;data&rdquo;: &ldquo;Do you want to know about Puppies?&rdquo;,<br>
  &ldquo;type&rdquo;: &ldquo;message&rdquo;,<br>
  &ldquo;conversationID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;uniqueID&rdquo;: &ldquo;28e36552-b0d8-42e2-b495-65f61329ad69&rdquo;,<br>
  &ldquo;utteranceID&rdquo;: &ldquo;testutteranceID&rdquo;,<br>
  &ldquo;sessionID&rdquo;: &ldquo;testgguid&rdquo;,<br>
  &ldquo;response&rdquo;: &ldquo;Do you want to know about Puppies?&rdquo;,<br>
  &ldquo;speak&rdquo;: &ldquo;Do you want to know about Puppies?&rdquo;,<br>
  &ldquo;show&rdquo;: {<br>
    &ldquo;content&rdquo;: [{<br>
      &ldquo;text&rdquo;: &ldquo;Yes please&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;Yes please&rdquo;<br>
    }, {<br>
      &ldquo;text&rdquo;: &ldquo;No thanks&rdquo;,<br>
      &ldquo;value&rdquo;: &ldquo;No thanks&rdquo;<br>
    }],<br>
    &ldquo;text&rdquo;: &ldquo;Do you want to know about Puppies?&rdquo;<br>
  }<br>
}<br></p>

          <h1 id="faq-limitations">FAQ &amp; Limitations</h1>

<p>General FAQ questions are listed below. ChatBot specific FAQ questions are listed to the right under its tab.
<aside class="notice">If you have a question not on our FAQ, please contact us at training@softbankrobotics.com</aside></p>

<p>Q. Can a ChatBot send two JSON responses in sequence?</p>

<p>A. Yes. In fact, that is actually the best practice way of preventing a user from getting stuck on a non-actionable
   image. It is recommended to follow it up with another JSON response.</p>
<div class="highlight"><pre class="highlight msbot tab-msbot"><code><span class="s2">"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
Q. Can Pepper say one string and show another?

A. Currently NO, Pepper will say and show the same string. However 
   we are working towards this functionality soon.

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

Q. How many hero cards will Pepper show?

A. As many as you like. Pepper will simply allow the user to scroll 
   through them, three at a time. It might not be very user friendly, 
   so we suggest keeping the number of cards under 10.

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
Q. Can Pepper respond to an utterance with a picture or video?

A. Yes, Pepper can show either a landscape or a portrait photo. It
   can also respond with a fullscreen video.
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</span><span class="w">

</span></code></pre></div>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="msbot">msbot</a>
          </div>
      </div>
    </div>
  </body>
</html>
